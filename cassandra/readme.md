왜 why 카산드라를 쓰는


단일 장애점 없이~ 고성능을 제공하면서

수많은 서버간의 대용량 데이터 처리를 위해 사용ㅇ.



모든 클라이언트에 대한 낮은 레이턴시, 성능 면에서 높은 가치.

***Amazon의 dynamo 분산 스토리지 및 복제 기술과 google의 빅테이블 데이터 및 스토리지 엔진모델***이 결합된 모델이다! 복잡하넹

처음에 단계적 이벤트 기반 아키텍처 (SEDA)를 사용하여 FACEBOOK에서 설계됨

카산드라는 여러 데이터센터에 걸쳐 클러스터를 지원하고~ 마스터리스 비동기 레플리케이션



>2. 카산드라의 특징
>> 여러개의 데이터베이스가 복제됨 마스터 기준
>> 짧은 지연시간
>> 프로세스 추가될떄마다 선형 처리량 증가
>> 온라인 부하문산
>> 분할된 키 지향 쿼리
>> 유연한 스키마

카산드ㅏㄹ는 CQL이라는 걸 따로이용. 

* Keyspace: 데이터 세트를 어떻게 구성할것인지 정의
* 테이블: 데이터 스키마
* 파티션: 모든 행에 있어야 하는 기본 키의 필수 부분을 정의
* row: 파티션 키 및 선택적으로 추가 클러스터링 키로 구성된 고유한 기본 키로 식별되는 열
* Column: 해당 테이블에서 행에 속하는 열을 말함

3.카산드라 장점

분산형 여러머신으로 운영, 사용자에게는 통합된 하나. 수평 확장과 수직확장

수평확장은 데이터 센터를 늘려서 요청처리를 여러 머신이 나눠가짐. 수직확장은 데이터센터에 램이나 메모리 증설하는 방법이있겠다

그러나 수직 확장 방법은 개발자입장에선 애초에 불가능한 사항. 그러나 수평확장하려면

**클러스터에있는 다른 노드와 데이터를 동기화하고 유지하는 메커니즘이 필수** 

규모축소(scaling down)는 클러스터에서 처리 용량의 일부를 제거하는 것을 말한다.

애플리케이션의 일부를 다른 플랫폼으로 이전하거나 애플리케이션의 사용자가 떠나고 하드웨어를 매각해야 한다면 이렇게 할 것이다.




고가용성-> 만약에 하나의 데이터 센터가 화재나 홍수로 치명적인 문제를 당하더라도. 다중 데이터 센터에 데이터를 복제해서

서비스 중단을 예방 가능

```
카산드라는 기본적으로 링(Ring) 구조를 띠고 있다. 그리고 링을 구성하는 각 노드에 데이터(Data)를 분산하여 저장한다. 

파티션 키라고 불리는 데이터의 해시(hash)값을 기준으로 데이터를 분산하게 된다. 처음 각 노드가 링에 참여하게 되면,

카산드라의 conf/cassandra.yaml에 정의된 각 설정을 통하여 각 노드마다 고유의 해시 값 범위를 부여받는다. 

그런 뒤에, 외부에서 데이터의 요청이 오게 되면 해당 데이터의 파티션 키의 해시 값을 계산하여 해당 데이터가 어느 노드에 저장되어 있는지 알고 접근할 수 있는 것이다.

그리고, 카산드라는 이렇게 계산된 hash의 값을 토큰(token)이라고 부른다.카산드라 쿼리 언어의 사용을 권장하고 있지만 카산드라 쿼리 언어가 처음부터 제공되었던 것은 아니다.

```
